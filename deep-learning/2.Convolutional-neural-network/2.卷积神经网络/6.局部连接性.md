# 局部连接性

在向MLP提供灰度图片之前，我们首先需要将其矩阵转换为向量

然后将此向量输入到具有两个隐藏层的MLP中

我们发现该模型非常适合分类MNIST数据集中的图片

实际上，测试图片的误差低于2%

但是对于其他图片分类问题，我们可能需要分析更复杂的现实图片

这些图片的规律更复杂

在构建和定义CNN时，我们做出了一些改进，并消除了，在用MLP进行图片分类时遇到一些不足和限制情况

具体而言，我们将调整两个重要问题

首先，我们看到MLP使用了很多参数

上个MLP处理的是非常小的28*28图片，就已经包含了超过50万的参数

可以想象即使是稍微大点的图片，计算复杂程度也会很快就失控

另一个问题是当我们将图片矩阵展平为向量时，丢失了图片中包含的所有二维信息

这种空间信息或像素相互之间的位置信息

可以帮助我们理解图片，并非常有助于发现像素值中包含的规律

这表明我们需要一种全新的方式来处理图片输入

这样才不会完全丢失二维信息

CNN将通过使用更加稀疏互联的层级来解决这些问题

层级之间的连接，由图片矩阵的二维结构确定

CNN将接受矩阵输入，假设有个4*4的手写数字图片小例子

我们的目标不变，我们想要对图片的数字进行分类

将4*4的矩阵转换为16维向量后

我们可以将向量当做输入提供给MLP

我们构建一个具有一个隐藏层（四个节点）的MLP

输出层有10个节点

输出有一个softmax激活函数并返回一个十维向量

包含图片描述的0到9数字

每个数字的可能概率

如果对模型训练的很好

向量将预测图片中的数字为7的概率更高

但是我们对此图处理下，将详细的描绘替换为建议的输出层