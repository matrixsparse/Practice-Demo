# 池化层

池化层经常将卷积层当做输入，卷积层是指特征映射堆栈，每个过滤器对应一个特征映射，具有很多不同的对象类别的复杂数据集，将需要大量的过滤器，每个过滤器负责从图片中查找一种规律，过滤器越多，则堆栈越大，意味着卷积层的维度可能会很庞大

维度越高，我们就需要使用更多的参数，这样可能会导致过拟合，因此，我们需要一种方法来降低维数

这就是卷积神经网络中的池化层所扮演的角色，我们将侧重于两者不同类型的池化层

第一种类型是最大池化层，最大池化层将一组特征映射作为输入，这里我们放大并可视化了所有三个特征映射，和卷积层一样我们将定义窗口大小和stride

这里，窗口大小设为2 stride也设为2

要构建最大池化层，我们将单独处理每个特征映射，先从第一个特征映射开始，从图片的左上角开始移动窗口

最大池化层中对应的节点值计算方法是：拿出窗口中包含的最大像素

这里，我们的窗口中有像素，1、9、4、5，因此最大值是9

如果针对所有特征映射继续这一流程，则输出是具有相同数量特征映射的堆栈

但是每个特征映射的宽和高都减小了，这里宽和高是上一个卷积层的一半，全局平均池化稍微有点不同

对于这种类型的层次，我们即不指定窗口大小也不指定stride，这种池化类型是更加极端的维度类型，它获得特征映射堆栈并计算堆栈中每个映射的节点均值

和之前一样，我们将单独处理每个特征映射，并从每一个特征映射开始

要计算节点的均值，我们首先对所有值求和，结果是80，然后除以节点总数16，结果是5，即这个节点的值

然后对剩下的两个特征映射重复相同的流程，两个值都是4，最终输出是一个特征映射堆栈，每个特征映射都缩减成一个值

全局平均池化将三维数组变成了向量，这里的向量有三个条目，我们用一盘食物做比喻，对所学的知识进行总结，我们可以将卷积层看做一堆煎饼

每个煎饼表示一个特征映射，池化层获得该堆栈，并返回具有相同数量的煎饼的堆栈，但是输出煎饼的宽和高变小了，非全局池化层表示煎饼大小的适中降低

每个煎饼大概是对输入煎饼宽和高的一半，全局池化层相当于将输入煎饼输出后变成面包屑，但是每个输入煎饼依然对应一个面包屑
