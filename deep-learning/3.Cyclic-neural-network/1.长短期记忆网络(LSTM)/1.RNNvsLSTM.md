# RNN vs LSTM

假设我们有个简单的神经网络，能够识别图像，我们输入了这张图

于是神经网络猜测这张图最可能是一只狗，小概率是一头狼，更小的概率是一条金鱼，但如果这张图真是一头狼呢？

神经网络要怎么知道？假设我们正在看一个关于自然的电视节目，在浪之前的图像是一头熊，再之前是一只狐狸

这种情况下，我们想用这个信息来提示，最后一张图是一头狼而不是一条狗，要做到这点，我们需要用同一个神经网络来分析每张图

![All text](http://ww1.sinaimg.cn/large/dc05ba18gy1foequ7v3t3j221q0tsk7z.jpg)

但是，我们要用神经网络的输出作为下一次输入的部分内容，这能切实提高效果，从数学角度上看

这很简单，我们只需要把线性函数的向量结合起来代入激活函数里，这个激活函数可以使sigmoid也可以是双曲正切函数

这么做，我们就可以把之前的信息利用起来

最后那个神经网络就会知道节目是关于森林里的野生动物的，并用这个信息来正确预测，图像是一头狼，并非一条狗

这基本上就是递归神经网络的工作原理了

假设熊已经出现有一会了，而最近出现的两张图分别是一棵树和一只松鼠

根据这两者我们无法知道新图像是一条狗还是一头狼，因为树和松鼠与森林动物的联系和家禽的联系是一样的

所以"在森林里"这个信息会一路追溯到熊的身上

但我们也知道，输入信息会不断地被sigmoid函数吸收掉

更糟的是，一路用反向传播往回训练网络，会造成梯度消失等问题，所以到这个时候，几乎所有关于熊的信息都丢失了，这就是递归神经网络的问题，其存储记忆通常都是短期记忆，RNN并不擅长存储长期记忆

于是这时候LSTM也就是长短期记忆网络派上了用场

简单地总结下RNN的工作原理，记忆输入进来与当前事件结合在一起，然后输出出来，输出会预测输入是什么东西

![All text](http://ww1.sinaimg.cn/large/dc05ba18gy1foer85uaiqj21o412yalt.jpg)
